(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1664:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(7876),n=s(8230),l=s.n(n);s(4232);let r=()=>(0,a.jsx)("nav",{className:"text-white p-4",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsx)(l(),{href:"/",className:"text-xl font-bold",children:"Hottake Ranked"}),(0,a.jsx)("ul",{className:"hidden md:flex space-x-6",children:[{text:"Add Take",href:"/take"},{text:"Vote",href:"/"},{text:"Leaderboard",href:"/leaderboard"}].map((e,t)=>(0,a.jsx)("li",{className:"rounded-xl hover:text-blue-400 p-2",children:(0,a.jsx)(l(),{href:e.href,children:e.text})},t))}),(0,a.jsx)("button",{className:"md:hidden focus:outline-none",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})]})})},4111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(7876),n=s(1664),l=s(4232),r=s(48);let o=e=>{let{position:t,winner:s,rating:n,diff:l}=e;return 0==s?(0,a.jsx)("div",{className:"w-full h-full border-2 border-gray-400 rounded-2xl flex justify-center items-center",children:(0,a.jsxs)(r.A,{sx:{typography:{xs:"h5",md:"h6",lg:"h3"}},style:{fontWeight:700},className:"pb-[20px]",children:[n," (",l,")"]})}):s==t?(0,a.jsx)("div",{className:"w-full h-full border-2 border-green-400 rounded-2xl flex justify-center items-center",children:(0,a.jsxs)(r.A,{sx:{typography:{xs:"h5",md:"h6",lg:"h3"}},style:{fontWeight:700},className:"pb-[20px]",children:[n," (",l,")"]})}):s!=t?(0,a.jsx)("div",{className:"w-full h-full border-2 border-red-400 rounded-2xl flex justify-center items-center",children:(0,a.jsxs)(r.A,{sx:{typography:{xs:"h5",md:"h6",lg:"h3"}},style:{fontWeight:700},className:"pb-[20px]",children:[n," (",l,")"]})}):void 0},c=e=>{let{take:t}=e;return(0,a.jsx)("div",{className:"w-full h-full border-2 cursor-pointer border-blue-400 rounded-2xl p-10 transition duration-500 ease-in-out hover:bg-blue-400",children:(0,a.jsx)(r.A,{sx:{typography:{xs:"h5",md:"h6",lg:"h3"}},style:{fontWeight:700},className:"pb-[20px]",children:t})})};var d=s(9796),i=s.n(d),h=s(2964),u=s(9320);function x(){let[e,t]=(0,l.useState)(""),[s,d]=(0,l.useState)(""),[x,p]=(0,l.useState)("Default Value Left"),[f,m]=(0,l.useState)("Default Value Right"),[g,j]=(0,l.useState)(-1),[b,k]=(0,l.useState)(0),[N,y]=(0,l.useState)(0),[v,w]=(0,l.useState)(1e3),[_,E]=(0,l.useState)(1e3);function A(e){let t=new(i())(32),s=t.getExpected(v,_),a=t.getExpected(_,v),n=0,l=0;1===e?(n=t.updateRating(s,1,v),l=t.updateRating(a,0,_)):(n=t.updateRating(s,0,v),l=t.updateRating(a,1,_)),k(n-v),y(l-_),w(n),E(l)}async function S(){let e=(await (0,h.GG)((0,h.rJ)(u.db,"Takes"))).docs.map(e=>({id:e.id,...e.data()})),s=Math.floor(Math.random()*e.length),a=e[s],n=Math.floor(Math.random()*e.length);for(;s==n;)n=Math.floor(Math.random()*e.length);let l=e[n];p(a.content),m(l.content),w(a.elo),E(l.elo),t(a.id),d(l.id)}async function W(){if(e&&s)try{let t=(0,h.H9)(u.db,"Takes",e);await (0,h.mZ)(t,{elo:v});let a=(0,h.H9)(u.db,"Takes",s);await (0,h.mZ)(a,{elo:_})}catch(e){console.error("Error updating document: ",e)}}return(0,l.useEffect)(()=>{S()},[]),(0,l.useEffect)(()=>{W()},[v,_]),(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{className:"flex justify-center m-[25px] md:m-[50px]",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(r.A,{sx:{typography:{xs:"h3",lg:"h1"}},style:{fontWeight:700},className:"text-center ",children:"Rank The People's Hottest Takes"}),(0,a.jsx)(r.A,{sx:{typography:{xs:"h4",lg:"h2"}},style:{fontWeight:700},className:"text-center ",children:"Which one's the Hottest?"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 min-h-[500px]",children:[g<0?(0,a.jsx)("div",{className:"col-span-full md:col-span-4 m-10",onClick:function(){j(1),console.log("clicked left!"),console.log("Old: ".concat(v,"(").concat(b,") | ").concat(_,"(").concat(N,")")),A(1)},children:(0,a.jsx)(c,{take:x})}):(0,a.jsx)("div",{className:"col-span-full md:col-span-4 m-10",children:(0,a.jsx)(o,{position:1,winner:g,rating:v,diff:b})}),(0,a.jsx)("div",{className:"col-span-full md:col-span-4 flex flex-col gap-4 justify-center items-center text-center",children:(0,a.jsx)("button",{className:"border-2 border-blue-400 rounded-2xl p-10 cursor-pointer transition duration-500 ease-in-out hover:bg-blue-400 text-white font-bold py-2 px-4 rounded-2xl w-[200px]",onClick:function(){-1==g?(j(0),k(0),y(0)):(j(-1),S())},children:(0,a.jsx)(r.A,{variant:"h3",style:{fontWeight:700},children:-1==g?"Tie":"Next"})})}),g<0?(0,a.jsx)("div",{className:"col-span-full md:col-span-4 m-10",onClick:function(){j(2),console.log("clicked right!"),console.log("Old: ".concat(v,"(").concat(b,") | ").concat(_,"(").concat(N,")")),A(2)},children:(0,a.jsx)(c,{take:f})}):(0,a.jsx)("div",{className:"col-span-full md:col-span-4 m-10",children:(0,a.jsx)(o,{position:2,winner:g,rating:_,diff:N})})]})]})}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4111)}])},9320:(e,t,s)=>{"use strict";s.d(t,{db:()=>r});var a=s(6042),n=s(2964);let l=(0,a.Wp)({apiKey:"AIzaSyBP2r_ZnetVEzZW3dkVUIxNmP0cfl3_vI4",authDomain:"hottake-ranked.firebaseapp.com",projectId:"hottake-ranked",storageBucket:"hottake-ranked.firebasestorage.app",messagingSenderId:"729885863876",appId:"1:729885863876:web:60023615a00e2dca59fe91",measurementId:"G-NFH93096H4"}),r=(0,n.aU)(l)},9796:e=>{"use strict";class t{constructor(e){this.k=e||32}setKFactor(e){this.k=e}getKFactor(){return this.k}getExpected(e,t){return 1/(1+Math.pow(10,(t-e)/400))}updateRating(e,t,s){return Math.round(s+this.k*(t-e))}}e.exports=t}},e=>{var t=t=>e(e.s=t);e.O(0,[671,922,636,593,792],()=>t(6760)),_N_E=e.O()}]);